# セットアップガイド

課題登録機能の修正が完了しました。以下の手順で動作確認してください。

## 修正内容

1. ✅ マスターデータ取得API（Tracker、IssueStatus、IssuePriority）を追加
2. ✅ 課題作成モーダルコンポーネントを実装
3. ✅ 課題一覧ページにデータ取得・表示機能を実装
4. ✅ フィルター機能（プロジェクト、ステータス、担当者）を実装
5. ✅ ページネーション機能を実装

## セットアップ手順

### 1. データベースのセットアップ

PostgreSQLがインストールされていることを確認してください。

```bash
# PostgreSQLデータベースを作成
psql -U postgres
CREATE DATABASE project_management;
\q
```

### 2. 環境変数の確認

`backend/.env` と `frontend/.env` ファイルが作成されています。
PostgreSQLのパスワードが異なる場合は、`backend/.env` の `DB_PASSWORD` を変更してください。

### 3. 依存関係のインストール

```bash
# ルートディレクトリで実行
npm install
```

### 4. データベースのシード実行

初期データ（管理者ユーザー、トラッカー、ステータス、優先度など）を投入します：

```bash
# backendディレクトリに移動
cd backend

# シードを実行
npm run seed

# ルートディレクトリに戻る
cd ..
```

シード実行後、以下のログイン情報が表示されます：
- **ユーザー名**: admin
- **パスワード**: admin123

### 5. アプリケーションの起動

```bash
# ルートディレクトリで実行（バックエンドとフロントエンド同時起動）
npm run dev
```

または、個別に起動する場合：

```bash
# バックエンドのみ
npm run dev:backend

# フロントエンドのみ（別のターミナルで）
npm run dev:frontend
```

### 6. 動作確認

1. ブラウザで `http://localhost:5173` を開く
2. 以下の情報でログイン：
   - ユーザー名: `admin`
   - パスワード: `admin123`
3. 左メニューから「課題」をクリック
4. 右上の「新規課題」ボタンをクリック
5. 課題作成フォームが表示されることを確認
6. 以下の情報を入力して課題を作成：
   - プロジェクト: （事前にプロジェクトを作成しておく必要があります）
   - トラッカー: バグ / 機能 / サポート / タスク から選択
   - 件名: テスト課題
   - 説明: これはテスト課題です
   - その他の項目は任意
7. 「作成」ボタンをクリック
8. 課題一覧に作成した課題が表示されることを確認

## 初めて使用する場合

### プロジェクトの作成

課題を作成する前に、まずプロジェクトを作成する必要があります：

1. 左メニューから「プロジェクト」をクリック
2. 右上の「新規プロジェクト」ボタンをクリック
3. 以下の情報を入力：
   - プロジェクト名: テストプロジェクト
   - 識別子: test-project
   - 説明: これはテストプロジェクトです
   - 公開: チェックを入れる
4. 「作成」ボタンをクリック

### 課題の作成

プロジェクト作成後、課題を作成できます：

1. 左メニューから「課題」をクリック
2. 右上の「新規課題」ボタンをクリック
3. プロジェクトとトラッカーを選択
4. 件名を入力（必須）
5. その他の項目を必要に応じて入力
6. 「作成」ボタンをクリック

## 機能一覧

### 課題一覧ページ

- ✅ 課題の一覧表示
- ✅ 検索機能（件名・説明で検索）
- ✅ フィルター機能
  - プロジェクト
  - ステータス
  - 担当者
- ✅ ページネーション
- ✅ 課題詳細へのリンク

### 課題作成モーダル

- ✅ プロジェクト選択（必須）
- ✅ トラッカー選択（必須）
- ✅ 件名入力（必須）
- ✅ 説明入力
- ✅ ステータス選択（デフォルト：新規）
- ✅ 優先度選択（デフォルト：通常）
- ✅ 担当者選択
- ✅ 予定工数入力
- ✅ 開始日・期日入力
- ✅ 進捗率スライダー
- ✅ プライベート課題チェックボックス

## トラブルシューティング

### データベース接続エラー

```
Error connecting to database
```

**解決方法**:
1. PostgreSQLが起動していることを確認
2. `backend/.env` のデータベース設定を確認
3. データベースが作成されていることを確認

### シード実行エラー

```
Error seeding database
```

**解決方法**:
1. データベースが空であることを確認（既にシードが実行されている場合は再実行不要）
2. データベース接続情報が正しいことを確認

### フロントエンドでAPIエラー

```
Failed to load issues
```

**解決方法**:
1. バックエンドが起動していることを確認（http://localhost:3000/health にアクセスして確認）
2. ログインしていることを確認
3. ブラウザのコンソールでエラー内容を確認

## 次のステップ

課題登録機能が動作したら、以下の機能も試してみてください：

1. 課題の詳細表示（課題IDをクリック）
2. 課題の編集
3. 課題へのコメント追加
4. 作業時間の記録
5. ウォッチャーの追加

## 追加の修正が必要な場合

他に動作していない機能がある場合は、具体的な機能名とエラー内容を教えてください。
