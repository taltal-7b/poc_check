# 概要（現状仕様）

## システムの位置づけ

- プロジェクト単位で情報（課題/作業時間/文書/Wiki/掲示板/リポジトリ連携 等）を管理し、通知・検索・履歴を提供する Web アプリケーション。
- 主要な操作単位は **プロジェクト** と **課題**。課題はステータス/トラッカー/優先度/担当者/期日などの属性を持ち、履歴（ジャーナル）を保持する。

## 想定ユーザーと典型権限

- 匿名ユーザー: 閲覧系（公開設定・権限定義に依存）
- ログインユーザー: 自分のページ/アカウント設定/APIキー等
- プロジェクトメンバー: 課題の作成・編集、時間記録、Wiki編集等（ロールにより差）
- 管理者: 全体設定、ユーザー/グループ/ロール、トラッカー/ステータス/ワークフロー等の管理

## 主要な機能領域（概観）

- 認証/セッション: パスワード、オートログイン、APIキー、二要素認証
- プロジェクト管理: 作成/設定/メンバー/モジュール有効化
- 課題管理: 一覧/詳細/作成/編集/一括更新/関連/ウォッチャー/添付
- ワークフロー: ステータス遷移・フィールド/権限の制御
- 時間管理: 作業時間の入力、集計レポート
- コンテンツ: Wiki、文書、ファイル、ニュース、掲示板
- リポジトリ連携: 参照/差分/関連課題、変更セット取り込み
- 通知: メール通知、購読（ウォッチ）、イベント設定
- 取り込み: メール経由の作成・更新（APIキー保護）

## 前提・制約

- 「現状」は **コードと同梱設定**（例: `config/settings.yml`, `config/routes.rb`）から読み取れる範囲に限定。
- DB上で変更される設定値（例: 管理画面で編集可能な多数の設定、ワークフロー実値）は、別途エクスポート/ヒアリングがない限り確定できない。
- プラグイン拡張は対象外（coreのみ）。

## 非機能（コードから読み取れる観点）

- セッション: トークン検証/期限、一定条件で自動ログアウト・再ログイン誘導
- CSRF: API リクエスト判定時は別経路（API利用前提）
- 監査/履歴: 主要更新はジャーナルとして履歴化される設計
- 添付: サイズ/拡張子制限が設定キーとして存在

